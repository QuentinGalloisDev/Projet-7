{\rtf1\ansi\ansicpg1252\deff0\nouicompat\deflang1036{\fonttbl{\f0\fnil\fcharset0 Calibri;}}
{\*\generator Riched20 10.0.19041}\viewkind4\uc1 
\pard\sa200\sl276\slmult1\ul\b\f0\fs36\lang12 D\'e9compos\'e9 la probl\'e9matique \'e0 l\rquote aide du document d\rquote investigation. \par
\b0\fs28\par
\ulnone Je vais commencer par pr\'e9senter la fiche d'investigation.\par
L'objectifs principales sur ce projet c'est de d\'e9velopper une fonctionnalit\'e9es de recherche qui soit optimale.\par
J'ai d'abord d\'e9velopper une solution avec la m\'e9thode filter qui cr\'e9e et retourne un nouveau tableau qui contiendra les \'e9l\'e9ments d'un tableau initial qui rempliront la condition pass\'e9 en param\'e8tre.\par
Si la condition est rempli, alors la fonction renverra true et l'\'e9l\'e9ment sera int\'e9gr\'e9 au nouveau tableau.\par
Pour les conditions pass\'e9es en param\'e8tre, j'ai utilis\'e9 la m\'e9thode test sur les regex pour v\'e9rifier si il y \'e0 une correspondance entre le texte entr\'e9e par l'utilisateur et les noms, ingredients ou dans la description des recettes du json.\par
La regex est cr\'e9er d\'e8s que l'utilisateur entre trois caract\'e8res dans la barre de recherche. On prend l'entr\'e9e utilisateur et on utilise un new Regex comme constructeur, avec un motif dont le test va renvoyer true si il d\'e9tecte le groupe de caract\'e8re.\par
J'ai cr\'e9er la regex en m'aidant de regex101 et je l'ai test\'e9 sur jsbin.\par
C'est seulement si un des test renvoi true qu'on on ajoute la recette au nouveau tableau.\par
 Le principale avantage de cette m\'e9thode c'est qu'elle est op\'e8re plus d'op\'e9rations que la seconde solution.\par
Et le code \'e9tant moins long il est \'e9galement plus clair pour d'autre d\'e9veloppeur.\par
Pour la seconde solution, j'ai utilis\'e9 une boucle for.\par
Donc on fait une it\'e9ration sur les recettes: on va dans les nom de l'it\'e9ration, on refait une boucle pour les divers ingr\'e9dients et on va dans la description.\par
Ensuite on utilise un constructeur set qui permet de cr\'e9er des objets qui contiennent des valeurs unique pour ne pas avoir deux fois la m\'eame recettes dans le nouveau tableau.\par
Cette m\'e9thode renvoie des doublons car on peut trouver des correspondance du texte \'e0 la fois dans la description et dans les ingr\'e9dients. Par exemple si l'utilisateur cherche gla\'e7ons, on trouvera une correspondance dans les ingr\'e9dients mais aussi dans la description si il est dit comment utiliser ces gla\'e7ons dans la cr\'e9ation de la recette.\par
(On ne peux pas faire break car sinon l'itt\'e9ration s'arr\'eate \'e0 la premi\'e8re recettes trouv\'e9s alorq que plusieurs recettes peuvent utilis\'e9es des gla\'e7ons.)\par
Le probl\'e8me avec cette m\'e9thode c'est qu'elle nous rend un tableau avec des double et qu'on doit effectuer une op\'e9ration suppl\'e9mentaire avec new set avant de  rendre le nouveau tableau.\par
Et \'e9galement que faire une boucle dans une boucle, pour les ingr\'e9dients en l'occurence, rend le code moins facile \'e0 appr\'e9hender.\par
 Pour ce qui est de ma m\'e9thode globale, inspir\'e9e du document des cas d'utilisation, la recherche commence quand l'utilisateur rentre au moins trois caract\'e8res, on recherche si un tag est d\'e9j\'e0 sellectionn\'e9, si c'est le cas on fais une recherche \'e0 partir du tableau renvoy\'e9 par la recherche par tags. sinon on recherche dans toutes les recettes de la base de donn\'e9e. Si le test de l'expression r\'e9gul\'e8re renvoi true on affiche les recettes du tableau et sinon on affiche le message d'erreur avec l'entr\'e9e de l'utilisateur.\par
Pour la solution avec la m\'e9thode filter.\par
La m\'e9thode cr\'e9er un nouveau tableau et on cr\'e9er un flag que l'on met \'e0 true de base. On cr\'e9er des constantes avec les tests entre la regex cr\'e9er par la recherche textuelle et les textes des recettes.\par
Si une de ces constantes renvoie true on laisse le flag \'e0 true et si aucune ne renvoie true on passe le flag \'e0 false et donc la m\'e9thode filter ne renvoie pas la recettes.\par
Pour les boucles for, On fait une it\'e9ration dans les recettes et on v\'e9rifie avec des conditions if si une correspondance est trouv\'e9. Si la condition est valide on place la recettes dans le tableau et sinon on passe \'e0 la recette suivante.\par
\ul\b Aller sur le site et faire les tests de recherche en s'inspirant des cas d'utilisation.\par
\ulnone\b0 Si on tape au moins trois caract\'e8res dans la barre de recherche, le syst\'e8me recherche dans le titre, la liste d'ingr\'e9dients et la description et le container des recettes est actualis\'e9e avec les r\'e9sultats de la recherche.( tester lim pour les titres, gla\'e7ons pour les ingr\'e9dients et mixer pour la description) \par
Les  champs de recherche avanc\'e9e sont actualis\'e9e suivant les recettes qui sont affich\'e9es.\par
si l'utilisateur pr\'e9cise sa recherche dans un des champs ingr\'e9dient, appareil ou ustensiles, les mots qui ne correspondent pas au texte entr\'e9e dans le champ disparaissent.\par
Quand  l'utilisateur choisi un mot cl\'e9, ce mot appara\'eet sous forme de tags dans le dom et les r\'e9sultats et l'affichage des recettes sont actualis\'e9s.\par
Lorsqu'on supprime un des tags on revient aux r\'e9sultats pr\'e9c\'e9dents.\par
 Si aucune recette n'est trouv\'e9e, on affiche un message d'erreur.\par
Quand l'utilisateur commence sa recherche par un tag,les r\'e9sultats sont afficher dans la page et se r\'e9p\'e9te autant de fois qu'il y a de tags s\'e9lectionn\'e9s.\par
Au fur et \'e0 mesure des recettes qui s'affichent, les mots cl\'e9s sont actualis\'e9es \'e9galement.\par
\'c9galement si on a un tags mais qu'on tape une recherche qui ne correspond \'e0 rien on a le message d'erreur.\par
\ul\b Le d\'e9roul\'e9 de la recherche dans le code.\par
\ulnone\b0 Pour les recherches par texte, (ligne 202 ) On met un eventlistener sur l'input de la barre de recherche, et on fait un un checkvalidity pour v\'e9rifier la validit\'e9 du pattern sur cet input.\par
si l'entr\'e9e est valide, on prend l'entr\'e9e, on la met en minuscule pour la recherche de correspondance dans les textes, texte qu'on mettra \'e9galement en minuscule pour la comparaison.\par
Et on cr\'e9er une regex avec le constructeur.\par
Ensuite on cr\'e9er un tableau qui contiendra les r\'e9sultat de la fonction searchByText avec en param\'e8tre toutes les recettes.\par
Et on affiche le r\'e9sultat en appelant les fonctions d'affichage des recettes et du nombre de recettes avec la longueur du tableau des r\'e9sultat.\par
On r\'e9cup\'e8re tous les tags ingr\'e9dients, ustensils et appliance qu'il y \'e0 dans le r\'e9sultat de recherche, on vide le contenu html des select-box respective et on rappelle la class Select avec les \'e9l\'e9ment trouv\'e9 gr\'e2ce au fonction get. Ici j'utilise un then car recipedata n\'e9cessite le mot cl\'e9 await pour r\'e9cup\'e9rer les recettes. Comme c'est une requ\'eate fetch.\par
Si la longueur du tableau de r\'e9sultat est de z\'e9ro, cela veut dire qu'aucune recette n'a \'e9t\'e9 retourn\'e9 et donc qu'aucune correspondance n'a \'e9t\'e9 trouv\'e9, donc  on affiche le  message d'erreur.\par
Si le texte n'est pas valide et qu'au moins un tag est s\'e9lectionn\'e9, on vide le conteneur des recettes, on fait une recherche par tags et on actualise l'affichage.\par
Si le texte n'est pas valide et qu'il n'y \'e0 pas de tag s\'e9lectionn\'e9 on affiche toutes les recettes.\par
\par
Pour ce qui est des pratiques green code, j'ai cr\'e9er un pattern pour les les recettes qui est r\'e9utilis\'e9 pour leur affichage. Il y \'e0 \'e9galement un pattern pour les s\'e9lecteur de mots cl\'e9s et j'ai cr\'e9er des fonctions pour vider le conteneur o\'f9 il y \'e0 les recettes et les r\'e9afficher suivant le r\'e9sultat d'une recherche et pour l'affichage du nombre de recettes donn\'e9es par le r\'e9sultat qui sont rappel\'e9es \'e0 suivant les action de l'utilisateur, comme  la s\'e9lection d'un tag ou l'ajout de texte dans la barre de recherche.\par
Pour conclure, j'ai fait un test avec jsben.ch pour comparer les m\'e9thodes de recherches textuelle et on peut voir que la m\'e9thode filter accompli plus d'op\'e9ration.\par
J'ai \'e9galement v\'e9rifi\'e9 que le code passait au v\'e9rificateur w3c et le code est bien valide.\par
\ul\b\par
\ulnone\b0\par
 \par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\par
\fs22\par
}
 